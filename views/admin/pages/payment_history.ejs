<%- pageCSS = `
<link href="/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css"/>
` %>


<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
  <div id="kt_app_toolbar_container" class="app-container container-fluid d-flex flex-stack">
    <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
      <h1 class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0">
        Payment history</h1>


      <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
        <li class="breadcrumb-item text-muted">
          <a href="/admin/dashboard" class="text-muted text-hover-primary">Home</a>
        </li>
        <li class="breadcrumb-item">
          <span class="bullet bg-gray-500 w-5px h-2px"></span>
        </li>
        <li class="breadcrumb-item text-muted">Subscriptions</li>
        <li class="breadcrumb-item">
          <span class="bullet bg-gray-500 w-5px h-2px"></span>
        </li>
        <li class="breadcrumb-item text-muted">Payment History</li>
      </ul>
    </div>

    <div class="d-flex align-items-end gap-2 gap-lg-3">
      <!--begin::Filter menu-->
      <div class="m-0">
        <!--begin::Menu toggle-->
        <span id="filter_collapse" class="filter-text">
          <i class="fa-solid fa-filter"></i> Filters
        </span>
      </div>

    </div>

  </div>
</div>

<div id="kt_app_content" class="app-content flex-column-fluid">
  <div id="kt_app_content_container" class="app-container container-fluid">

    <div class="card card-flush mb-3 filter_card hidden">
      <div class="card-body">
        <form id="filterForm" class="form fv-plugins-bootstrap5 fv-plugins-framework">
          <div class="row">
            <div class="col-md-4 mb-3 fv-row fv-plugins-icon-container">
              <label class="fw-semibold mb-2">Start Date</label>
              <input type="date" class="form-control" placeholder="Start Date" id="subsciption_start_date" name="subsciption_start_date" value="">
            </div>

            <div class="col-md-4 mb-3 fv-row fv-plugins-icon-container">
              <label class="fw-semibold mb-2">End Date</label>
              <input type="date" class="form-control" placeholder="End Date" id="subsciption_end_date" name="subsciption_end_date" value="">
            </div>

            <div class="col-md-4 mb-3 fv-row fv-plugins-icon-container">
              <label class="fw-semibold mb-2">Payment For</label>
              <select class="form-control" name="subscription_for" id="subscription_for">
                <option value="">Select</option>
                <option value="course">Course</option>
                <option value="plan">Plan</option>
              </select>
            </div>

          </div>
          <div class="col-md-12 text-end">
            <button type="button" class="btn btn-sm btn-primary" id="filter">Submit</button>
            <button type="button" class="btn btn-sm btn-secondary" id="clear">Reset</button>

          </div>
        </form>
      </div>
    </div>

    <div class="card card-flush">
      <div class="card-body">
        <table class="table table-rounded border align-middle w-100" id="data_table">
          <thead class="bg-light-secondary text-uppercase">
            <tr class="text-start text-muted fw-bold fs-7 text-uppercase gs-0">

              <th class="text-center">Customer</th>

              <th class="text-center">Customer Phone</th>
              <th class="text-center">Status</th>
              <th class="text-center">Billing Amount</th>
              <th class="text-center">Product</th>
              <th class="text-center">Subscription Start Date</th>
              <th class="text-center">Subscription End Date</th>
              <th class="text-center">Created Date</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" tabindex="-1" id="subscription_modal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content position-absolute">
      <div class="modal-header">
        <h5 class="modal-title">Subscription Details</h5>

        <!--begin::Close-->
        <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
          <i class="ki-duotone ki-cross fs-2x"><span class="path1"></span><span class="path2"></span></i>
        </div>

      </div>

      <div class="modal-body">
        <div class="row" id="subscription_div">

        </div>
      </div>


      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>

<script>
  const isActionVisible = <%- access_routes.subscriptions.paymenthistory[0].permission  === "1" ? 'true' : 'false'; %>;
</script>
<%- pageJs = `
<script src="/plugins/custom/datatables/datatables.bundle.js"></script>
<script src="/js/pages/payment_history.js"></script>
` %>
